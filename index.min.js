function scrollzzz({entries:e,trigger:n=1,debug:t=!1}){if(!isNonEmptyString)throw new Error("entries must be a valid DOM selector");if(!isNumber(n)||n>1||n<0)throw new Error("trigger must be a number in 0..1 range");if(!isBoolean(t))throw new Error("debug must be boolean");const r=[...document.querySelectorAll(e)],o=function(){let e=0,n="down";return function(){const t=window.pageYOffset;let r=n;return t>e||t===e&&"down"===n?r="down":(t<e||t===e&&"up"===n)&&(r="up"),e=t,n=r,r}}(),i={},s={};let c,u=!1;function l(){return`scrollzzz-trigger--${"."===e[0]||"#"===e[0]?e.substring(1):e}`}function d(){const e=100*n;return`-${e}% 0% -${100-e}% 0%`}function a(e,n){e.forEach(e=>{i.hasOwnProperty("onIntersect")&&i.onIntersect({direction:o(),entry:e,observer:n})})}function f(){throw new Error("scrollzzz has not been initialized")}return s.init=()=>{if(u)throw new Error("scrollzzz has beed already initialized");return c=new IntersectionObserver(a,{rootMargin:d()}),r.forEach(e=>c.observe(e)),!0===t&&function(){const t=document.createElement("div"),r=document.createElement("p");t.style.position="fixed",t.style.top="0",t.style.width="100%",t.style.height="0px",t.style.borderTop="2px dashed grey",t.style.zIndex="9999",t.style.marginTop=`${100*n}vh`,r.style.fontFamily="monospace",r.style.color="grey",r.style.margin="0",r.style.padding="6px",r.innerText=`entries: "${e}", trigger: ${n}`,t.setAttribute("class",l()),t.appendChild(r),document.body.appendChild(t)}(),u=!0,s},s.onIntersect=e=>{if(u||f(),"function"!=typeof e)throw new Error("onIntersect requires a function");return i.onIntersect=e,s},s.disconnect=()=>(u||f(),c.disconnect(),u=!1,s),s.setTrigger=(e=1)=>(s.disconnect(),n=e,!0===t&&function(){const e=document.querySelector(`.${l()}`);e.parentNode.removeChild(e)}(),s.init(),s),Object.freeze(s)}function isNumber(e){return"number"==typeof e&&!Number.isNaN(e)}function isNonEmptyString(e){return"string"==typeof e&&e.length>0}function isBoolean(e){return"boolean"==typeof e}function isNodejs(){return"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}isNodejs()&&(module.exports=scrollzzz);