/**
 * @license MIT
 * @author Luca Poldelmengo
 * @see {@link https://github.com/pldg/scrollzzz}
 */
function scrollzzz({entries:e,t:n=1,root:t=null,debug:o=!1}){if(!isNonEmptyString)throw new Error("entries must be a valid DOM selector");if(!isNumber(n)||n>1||n<0)throw new Error("trigger must be a number in 0..1 range");if(!isBoolean(o))throw new Error("debug must be boolean");const r=[...document.querySelectorAll(e)],i=function(){let e=0,n="down";return function(){const o=t?t.scrollTop:window.pageYOffset;let r=n;return o>e||o===e&&"down"===n?r="down":(o<e||o===e&&"up"===n)&&(r="up"),e=o,n=r,r}}(),u={},s={};let c,l=!1;function d(){return`scrollzzz-trigger--${"."===e[0]||"#"===e[0]?e.substring(1):e}`}function f(){const e=100*n;return`-${e}% 0% -${100-e}% 0%`}function w(e,n){e.forEach(e=>{u.hasOwnProperty("onIntersect")&&u.o({direction:i(),i:e,u:n})})}function g(){throw new Error("scrollzzz has not been initialized")}return s.init=()=>{if(l)throw new Error("scrollzzz has beed already initialized");return c=new IntersectionObserver(w,{s:f(),root:t}),r.forEach(e=>c.observe(e)),!0===o&&function(){const o=document.createElement("div"),r=document.createElement("p");if(o.style.height="0px",o.style.borderTop="2px dashed grey",o.style.zIndex="9999",null===t)o.style.position="fixed",o.style.width="100%",o.style.top=`${100*n}vh`;else{const{height:e,width:r}=t.getBoundingClientRect();o.style.position="absolute",o.style.top=`${n*e+getCoords(t).top}px`,o.style.width=`${r}px`}r.style.fontFamily="monospace",r.style.color="grey",r.style.margin="0",r.style.padding="6px",r.innerText=`entries: "${e}", trigger: ${n}`,o.setAttribute("class",d()),o.appendChild(r),document.body.appendChild(o)}(),l=!0,s},s.disconnect=()=>(l||g(),c.disconnect(),!0===o&&function(){const e=document.querySelector(`.${d()}`);e.parentNode.removeChild(e)}(),l=!1,s),s.update=(r={})=>(s.disconnect(),e=r.entries||e,n=r.t||n,t=r.root||t,o=r.debug||o,s.init(),s),s.o=e=>{if(l||g(),"function"!=typeof e)throw new Error("onIntersect requires a function");return u.o=e,s},Object.freeze(s)}function isNumber(e){return"number"==typeof e&&!Number.isNaN(e)}function isNonEmptyString(e){return"string"==typeof e&&e.length>0}function isBoolean(e){return"boolean"==typeof e}function getCoords(e){const n=window.pageYOffset,t=window.pageXOffset,o=document.body.clientTop||0,r=document.body.clientLeft||0;let{top:i,left:u,height:s,width:c}=e.getBoundingClientRect();return{top:i=i+n-o,left:u=u+t-r,height:s,width:c,bottom:i+s,right:u+c}}function isNodejs(){return"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}isNodejs()&&(module.exports=scrollzzz);